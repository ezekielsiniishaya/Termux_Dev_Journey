<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selection Sort</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        canvas {
            border: 1px solid black;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>

<body>
    <h1 style="text-align: center;">Selection Sort Visualization</h1>
    <canvas id="canvas" width="610" height="910"></canvas>

    <script>
        // Getting the canvas to my JavaScript program so I can manipulate it
        const canvas = document.getElementById('canvas');
        ctx = canvas.getContext('2d');


        // This is a program that sorts an array in accending order and then display the process on the canvas
        // Function to display text on the canvas

        var displayArray = function (array, startX, startY) {
            ctx.font = '16px Arial';
            ctx.fillStyle = 'green';
            for (var i = 0; i < array.length; i++) {
                ctx.fillText(array[i], startX + i * 30, startY);
            }
        }

        // 1. Create an array
        var array1 = [8, 4, 6, 19, 3, 22, 77, 90, 14, 1];
        var array2 = [0, 9, 8, 7, 6, 5, 4, 3, 2, 1];
        var array3 = [18, 91, 28, 17, 26, -5, -4, 33, 12, 1];
        var array4 = [0, 9, 8, 6, 6, 5, 4, 1, 1, 1];
        // 2. Create a function, indexOfMinimum that returns the index of the minimum value in an array


        var indexOfMinimum = function (array, startIndex) {
            var minIndex = startIndex;
            var minValue = array[startIndex];
            for (var i = minIndex + 1; i < array.length; i++) {
                if (array[i] < array[minIndex]) {
                    minIndex = i;
                    minValue = array[i];
                }
            }
            return minIndex;
        };

        // 3. Create a function, swap that swaps the minimum values with the 0, 1, 2 and so on
        var swap = function (array, firstIndex, secondIndex, startX, startY, step) {

            // Drawing the lines to show the numbers being swapped
            x1 = startX + firstIndex * 30 + 4; // Position of the first element
            x2 = startX + secondIndex * 30 + 4; // Position of the second element
            y = startY + step * 40 + 15; // Vertical position for each step
            ctx.strokeStyle = 'blue';
            ctx.beginPath();
            ctx.moveTo(x1, y + 8);
            ctx.lineTo(x2, y - 10);
            ctx.stroke();
            // Temporarily storing the value on at the first index before replacing it with the value at the second index
            var temp = array[firstIndex];
            // The swapping logic
            array[firstIndex] = array[secondIndex];
            array[secondIndex] = temp;
        };

        // 4. Create a function, selectionSort that finds the index of the minimum value and swaps it with the 0th index an so on.

        var selectionSort = function (array, startX, startY) {
            console.log(`Before sort ${array}`);
            for (var i = 0; i < array.length; i++) {
                minIndex = indexOfMinimum(array, i);
                displayArray(array, startX, startY + i * 40);
                swap(array, i, minIndex, startX, startY, i);
            } displayArray(array, startX, startY + array.length * 40)
            console.log(`After sort ${array}`);
        };
        // 5. Sort and print and array
        selectionSort(array1, 10, 30);
        selectionSort(array2, 350, 30);
        selectionSort(array3, 10, 500);
        selectionSort(array4, 350, 500);

    </script>
</body>

</html>